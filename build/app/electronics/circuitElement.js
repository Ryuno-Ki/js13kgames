/*! js13k-breaker-panel - v0.0.5 - 2015-09-13 */

define(["app/element","app/utils","app/errors"],function(a,b,c){"use strict";var d,e;return d=function(a){var b;return this instanceof d?(b=this,b.name="CircuitElement",b._input=null,b._type="circuit",void(b._elements=[])):new d(a)},e=d.prototype,b.inherit(d,a.ElectronicElement),e.hasPowerSource=function(){var a;return a=this._elements.map(function(a){return a.getType()}),-1!==a.indexOf("power-source")},e.addPowerSource=function(a){this._elements.push(a)},e.hasConsumer=function(){var a;return a=this._elements.map(function(a){return a.getType()}),-1!==a.indexOf("consumer")},e.addConsumer=function(a){this._elements.push(a)},e.hasElectronic=function(){var a,b,c,d;for(a=this._elements.map(function(a){return a.getType()}),b=function(a){var b;return b=["electronic","switch"],-1!==b.indexOf(a)?!0:!1},c=0,d=a.length;d>c;c+=1)if(b(a[c]))return!0;return!1},e.addElectronic=function(a){this._elements.push(a)},e._mapElementsToLogic=function(){return this._elements.map(function(a){switch(a.getType()){case"power-source":return a.hasOutput()&&null!==a.getOutput();case"consumer":return a.hasInput()&&null!==a.getInput();case"electronic":return a.hasInput()&&null!==a.getInput()&&a.hasOutput()&&null!==a.getOutput();case"switch":return a.hasInput()&&null!==a.getInput()&&a.hasOutput()&&null!==a.getOutput()&&a.isClosed();default:return!1}})},e.isCompleteCircuit=function(){return this.hasPowerSource()&&this.hasConsumer()&&this.hasElectronic()},e.isCircuitClosed=function(){var a;return this.isCompleteCircuit()?(a=this._mapElementsToLogic(),a.reduce(function(a,b){return a&&b})):!1},e.renderCircuitLogic=function(){var a,b,c,d,e,f,g;for(c={and:"∧",or:"∨",not:"¬"},a=this._mapElementsToLogic(),b=a.length?+a[0]:0,d=0,e=a.length-1;e>d;d+=1)f=a[d],g=a[d+1],b+=" "+c.and+" "+Number(g);return b+=" = "+Number(this.isCircuitClosed())},{CircuitElement:d}});
//# sourceMappingURL=circuitElement.js.map